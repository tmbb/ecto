    <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.17.1">
    <title>Ecto.Adapter â€“ Ecto v3.0.0-dev</title>
    <link rel="stylesheet" href="dist/app-110d9134a6.css" />
    
      <link rel="canonical" href="http://hexdocs.pm/ecto/Ecto.Adapter.html" />
    
    
      
        <link rel="icon" type="image/png" href="assets/logo.png" />
      
      
    
    <script src="dist/sidebar_items-d4f8a3d044.js"></script>
    <link rel="stylesheet" href="assets/makedown.css"/>
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>

    <div class="main">
<button class="sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<section class="sidebar">

  
  <a href="Ecto.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        Ecto
      </h1>
      <h2 class="sidebar-projectVersion">
        v3.0.0-dev
      </h2>
    </div>
    
      <img src="assets/logo.png" alt="Ecto" class="sidebar-projectImage">
    
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    
      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>
    

    
      <li><a id="tasks-list" href="#full-list">Mix Tasks</a></li>
    
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">Ecto v3.0.0-dev</small>
        Ecto.Adapter <small>behaviour</small>
        
          <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
        
      </h1>

      
        <section id="moduledoc">
          <p>This module specifies the adapter API that an adapter is required to
implement.</p>

        </section>
      

      
        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
          
  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#t:cached/0">cached()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:constraints/0">constraints()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:fields/0">fields()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:filters/0">filters()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:on_conflict/0">on_conflict()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:prepared/0">prepared()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:process/0">process()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:query_meta/0">query_meta()</a>
  </div>
  
    <div class="summary-synopsis"><p>Ecto.Query metadata fields (stored in cache)</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:returning/0">returning()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:schema_meta/0">schema_meta()</a>
  </div>
  
    <div class="summary-synopsis"><p>Ecto.Schema metadata fields</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:source/0">source()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:t/0">t()</a>
  </div>
  
</div>

  </div>


          

          
  <div class="summary-callbacks summary">
    <h2>
      <a href="#callbacks">Callbacks</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#c:__before_compile__/1">__before_compile__(env)</a>
  </div>
  
    <div class="summary-synopsis"><p>The callback invoked in case the adapter needs to inject code</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:autogenerate/1">autogenerate(field_type)</a>
  </div>
  
    <div class="summary-synopsis"><p>Called to autogenerate a value for id/embed_id/binary_id</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:child_spec/2">child_spec(repo, options)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the childspec that starts the adapter process</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:delete/4">delete(repo, schema_meta, filters, options)</a>
  </div>
  
    <div class="summary-synopsis"><p>Deletes a single struct with the given filters</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:dumpers/2">dumpers(primitive_type, ecto_type)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the dumpers for a given type</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:ensure_all_started/2">ensure_all_started(repo, type)</a>
  </div>
  
    <div class="summary-synopsis"><p>Ensure all applications necessary to run the adapter are started</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:execute/6">execute(repo, query_meta, query, params, arg4, options)</a>
  </div>
  
    <div class="summary-synopsis"><p>Executes a previously prepared query</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:insert/6">insert(repo, schema_meta, fields, on_conflict, returning, options)</a>
  </div>
  
    <div class="summary-synopsis"><p>Inserts a single new struct in the data store</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:insert_all/7">insert_all(repo, schema_meta, header, list, on_conflict, returning, options)</a>
  </div>
  
    <div class="summary-synopsis"><p>Inserts multiple entries into the data store</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:loaders/2">loaders(primitive_type, ecto_type)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the loaders for a given type</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:prepare/2">prepare(atom, query)</a>
  </div>
  
    <div class="summary-synopsis"><p>Commands invoked to prepare a query for <code class="inline">all</code>, <code class="inline">update_all</code> and <code class="inline">delete_all</code></p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:update/6">update(repo, schema_meta, fields, filters, returning, options)</a>
  </div>
  
    <div class="summary-synopsis"><p>Updates a single struct with the given filters</p>
</div>
  
</div>

  </div>


        </section>
      

      
        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Types
          </h1>
          <div class="types-list">
            <div class="detail" id="t:cached/0">
  
  
  <div class="detail-header">
    <a href="#t:cached/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">cached()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L21" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>cached() :: term</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:constraints/0">
  
  
  <div class="detail-header">
    <a href="#t:constraints/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">constraints()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L18" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>constraints() :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a></pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:fields/0">
  
  
  <div class="detail-header">
    <a href="#t:fields/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">fields()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L16" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>fields() :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a></pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:filters/0">
  
  
  <div class="detail-header">
    <a href="#t:filters/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">filters()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L17" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>filters() :: <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a></pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:on_conflict/0">
  
  
  <div class="detail-header">
    <a href="#t:on_conflict/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">on_conflict()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L23" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre><a href="#t:on_conflict/0">on_conflict</a> ::
  {:raise, list, []} |
  {:nothing, list, [atom]} |
  {<a href="Ecto.Query.html#t:t/0">Ecto.Query.t</a>, list, [atom]}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:prepared/0">
  
  
  <div class="detail-header">
    <a href="#t:prepared/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">prepared()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L20" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>prepared() :: term</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:process/0">
  
  
  <div class="detail-header">
    <a href="#t:process/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">process()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L22" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>process() :: (term -> term)</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:query_meta/0">
  
  
  <div class="detail-header">
    <a href="#t:query_meta/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">query_meta()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L10" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>query_meta() :: %{prefix: binary | nil, sources: tuple, preloads: term, select: map}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Ecto.Query metadata fields (stored in cache)</p>

  </section>
</div>
<div class="detail" id="t:returning/0">
  
  
  <div class="detail-header">
    <a href="#t:returning/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">returning()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L19" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>returning() :: [atom]</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:schema_meta/0">
  
  
  <div class="detail-header">
    <a href="#t:schema_meta/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">schema_meta()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L13" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>schema_meta() :: %{source: <a href="#t:source/0">source</a>, schema: atom, context: term, autogenerate_id: {atom, :id | :binary_id}}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Ecto.Schema metadata fields</p>

  </section>
</div>
<div class="detail" id="t:source/0">
  
  
  <div class="detail-header">
    <a href="#t:source/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">source()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L15" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>source() :: {prefix :: binary | nil, table :: binary}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="t:t/0">
  
  
  <div class="detail-header">
    <a href="#t:t/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">t()</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L7" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>t() :: module</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    
  </section>
</div>

          </div>
        </section>
      

      

      
        <section id="callbacks" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#callbacks">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Callbacks
          </h1>
          <div class="detail" id="c:__before_compile__/1">
  
  
  <div class="detail-header">
    <a href="#c:__before_compile__/1" class="detail-link" title="Link to this macro callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this macro callback</span>
    </a>
    <span class="signature">__before_compile__(env)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L33" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>__before_compile__(term, env :: <a href="https://hexdocs.pm/elixir/Macro.Env.html#t:t/0">Macro.Env.t</a>) :: <a href="https://hexdocs.pm/elixir/Macro.html#t:t/0">Macro.t</a></pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>The callback invoked in case the adapter needs to inject code.</p>

  </section>
</div>
<div class="detail" id="c:autogenerate/1">
  
  
  <div class="detail-header">
    <a href="#c:autogenerate/1" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">autogenerate(field_type)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L112" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>autogenerate(field_type :: :id | :binary_id | :embed_id) ::
  term |
  nil |
  no_return</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Called to autogenerate a value for id/embed_id/binary_id.</p>
<p>Returns the autogenerated value, or nil if it must be
autogenerated inside the storage or raise if not supported.</p>

  </section>
</div>
<div class="detail" id="c:child_spec/2">
  
  
  <div class="detail-header">
    <a href="#c:child_spec/2" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">child_spec(repo, options)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L44" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>child_spec(repo, options) :: :supervisor.child_spec</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the childspec that starts the adapter process.</p>

  </section>
</div>
<div class="detail" id="c:delete/4">
  
  
  <div class="detail-header">
    <a href="#c:delete/4" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">delete(repo, schema_meta, filters, options)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L183" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>delete(repo, <a href="#t:schema_meta/0">schema_meta</a>, <a href="#t:filters/0">filters</a>, options) ::
  {:ok, <a href="#t:fields/0">fields</a>} |
  {:invalid, <a href="#t:constraints/0">constraints</a>} |
  {:error, :stale} |
  no_return</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Deletes a single struct with the given filters.</p>
<p>While <code class="inline">filters</code> can be any record column, it is expected that
at least the primary key (or any other key that uniquely
identifies an existing record) be given as a filter. Therefore,
in case there is no record matching the given filters,
<code class="inline">{:error, :stale}</code> is returned.</p>

  </section>
</div>
<div class="detail" id="c:dumpers/2">
  
  
  <div class="detail-header">
    <a href="#c:dumpers/2" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">dumpers(primitive_type, ecto_type)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L103" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>dumpers(primitive_type :: <a href="Ecto.Type.html#t:primitive/0">Ecto.Type.primitive</a>, ecto_type :: <a href="Ecto.Type.html#t:t/0">Ecto.Type.t</a>) :: [(term -> {:ok, term} | :error) | <a href="Ecto.Type.html#t:t/0">Ecto.Type.t</a>]</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the dumpers for a given type.</p>
<p>It receives the primitive type and the Ecto type (which may be
primitive as well). It returns a list of dumpers with the given
type usually at the beginning.</p>
<p>This allows developers to properly translate values coming from
the Ecto into adapter ones. For example, if the database does not
support booleans but instead returns 0 and 1 for them, you could
add:</p>
<pre><code class="nohighlight makeup"><span class="kd">def</span><span class="w"> </span><span class="nf">dumpers</span><span class="p" data-group-id="2234">(</span><span class="ss">:boolean</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2234">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2292">[</span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">bool_encode</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2292">]</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">dumpers</span><span class="p" data-group-id="2317">(</span><span class="n">_primitive</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2317">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2361">[</span><span class="n">type</span><span class="p" data-group-id="2361">]</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="n">bool_encode</span><span class="p" data-group-id="2389">(</span><span class="no">false</span><span class="p" data-group-id="2389">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2426">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="2426">}</span><span class="w">
</span><span class="kd">defp</span><span class="w"> </span><span class="n">bool_encode</span><span class="p" data-group-id="2446">(</span><span class="no">true</span><span class="p" data-group-id="2446">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2494">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="2494">}</span></code></pre>
<p>All adapters are required to implement a clause or :binary_id types,
since they are adapter specific. If your adapter does not provide
binary ids, you may simply use Ecto.UUID:</p>
<pre><code class="nohighlight makeup"><span class="kd">def</span><span class="w"> </span><span class="nf">dumpers</span><span class="p" data-group-id="2232">(</span><span class="ss">:binary_id</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2232">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2256">[</span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="nc">Ecto.UUID</span><span class="p" data-group-id="2256">]</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">dumpers</span><span class="p" data-group-id="2284">(</span><span class="n">_primitive</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2284">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2301">[</span><span class="n">type</span><span class="p" data-group-id="2301">]</span></code></pre>

  </section>
</div>
<div class="detail" id="c:ensure_all_started/2">
  
  
  <div class="detail-header">
    <a href="#c:ensure_all_started/2" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">ensure_all_started(repo, type)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L38" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>ensure_all_started(repo, type :: :application.restart_type) ::
  {:ok, [atom]} |
  {:error, atom}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Ensure all applications necessary to run the adapter are started.</p>

  </section>
</div>
<div class="detail" id="c:execute/6">
  
  
  <div class="detail-header">
    <a href="#c:execute/6" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">execute(repo, query_meta, query, params, arg4, options)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L137" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>execute(repo, <a href="#t:query_meta/0">query_meta</a>, query, params :: list, <a href="#t:process/0">process</a> | nil, options) :: result when result: {integer, [[term]] | nil} | no_return, query: {:nocache, <a href="#t:prepared/0">prepared</a>} | {:cached, (<a href="#t:prepared/0">prepared</a> -> :ok), <a href="#t:cached/0">cached</a>} | {:cache, (<a href="#t:cached/0">cached</a> -> :ok), <a href="#t:prepared/0">prepared</a>}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Executes a previously prepared query.</p>
<p>It must return a tuple containing the number of entries and
the result set as a list of lists. The result set may also be
<code class="inline">nil</code> if a particular operation does not support them.</p>
<p>The <code class="inline">meta</code> field is a map containing some of the fields found
in the <a href="Ecto.Query.html"><code class="inline">Ecto.Query</code></a> struct.</p>
<p>It receives a process function that should be invoked for each
selected field in the query result in order to convert them to the
expected Ecto type. The <code class="inline">process</code> function will be nil if no
result set is expected from the query.</p>

  </section>
</div>
<div class="detail" id="c:insert/6">
  
  
  <div class="detail-header">
    <a href="#c:insert/6" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">insert(repo, schema_meta, fields, on_conflict, returning, options)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L158" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>insert(repo, <a href="#t:schema_meta/0">schema_meta</a>, <a href="#t:fields/0">fields</a>, <a href="#t:on_conflict/0">on_conflict</a>, <a href="#t:returning/0">returning</a>, options) ::
  {:ok, <a href="#t:fields/0">fields</a>} |
  {:invalid, <a href="#t:constraints/0">constraints</a>} |
  no_return</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Inserts a single new struct in the data store.</p>
<h2 id="c:insert/6-autogenerate" class="section-heading">
  <a href="#c:insert/6-autogenerate" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Autogenerate
</h2>

<p>The primary key will be automatically included in <code class="inline">returning</code> if the
field has type <code class="inline">:id</code> or <code class="inline">:binary_id</code> and no value was set by the
developer or none was autogenerated by the adapter.</p>

  </section>
</div>
<div class="detail" id="c:insert_all/7">
  
  
  <div class="detail-header">
    <a href="#c:insert_all/7" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">insert_all(repo, schema_meta, header, list, on_conflict, returning, options)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L146" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>insert_all(repo, <a href="#t:schema_meta/0">schema_meta</a>, header :: [atom], [<a href="#t:fields/0">fields</a>], <a href="#t:on_conflict/0">on_conflict</a>, <a href="#t:returning/0">returning</a>, options) ::
  {integer, [[term]] | nil} |
  no_return</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Inserts multiple entries into the data store.</p>

  </section>
</div>
<div class="detail" id="c:loaders/2">
  
  
  <div class="detail-header">
    <a href="#c:loaders/2" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">loaders(primitive_type, ecto_type)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L74" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>loaders(primitive_type :: <a href="Ecto.Type.html#t:primitive/0">Ecto.Type.primitive</a>, ecto_type :: <a href="Ecto.Type.html#t:t/0">Ecto.Type.t</a>) :: [(term -> {:ok, term} | :error) | <a href="Ecto.Type.html#t:t/0">Ecto.Type.t</a>]</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the loaders for a given type.</p>
<p>It receives the primitive type and the Ecto type (which may be
primitive as well). It returns a list of loaders with the given
type usually at the end.</p>
<p>This allows developers to properly translate values coming from
the adapters into Ecto ones. For example, if the database does not
support booleans but instead returns 0 and 1 for them, you could
add:</p>
<pre><code class="nohighlight makeup"><span class="kd">def</span><span class="w"> </span><span class="nf">loaders</span><span class="p" data-group-id="2568">(</span><span class="ss">:boolean</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2568">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2590">[</span><span class="o">&amp;</span><span class="n">bool_decode</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2590">]</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">loaders</span><span class="p" data-group-id="2599">(</span><span class="n">_primitive</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2599">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2603">[</span><span class="n">type</span><span class="p" data-group-id="2603">]</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="n">bool_decode</span><span class="p" data-group-id="2608">(</span><span class="mi">0</span><span class="p" data-group-id="2608">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2610">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="no">false</span><span class="p" data-group-id="2610">}</span><span class="w">
</span><span class="kd">defp</span><span class="w"> </span><span class="n">bool_decode</span><span class="p" data-group-id="2615">(</span><span class="mi">1</span><span class="p" data-group-id="2615">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2622">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="no">true</span><span class="p" data-group-id="2622">}</span></code></pre>
<p>All adapters are required to implement a clause for <code class="inline">:binary_id</code> types,
since they are adapter specific. If your adapter does not provide binary
ids, you may simply use Ecto.UUID:</p>
<pre><code class="nohighlight makeup"><span class="kd">def</span><span class="w"> </span><span class="nf">loaders</span><span class="p" data-group-id="2567">(</span><span class="ss">:binary_id</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2567">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2580">[</span><span class="nc">Ecto.UUID</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2580">]</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">loaders</span><span class="p" data-group-id="2588">(</span><span class="n">_primitive</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="p" data-group-id="2588">)</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2593">[</span><span class="n">type</span><span class="p" data-group-id="2593">]</span></code></pre>

  </section>
</div>
<div class="detail" id="c:prepare/2">
  
  
  <div class="detail-header">
    <a href="#c:prepare/2" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">prepare(atom, query)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L119" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>prepare(atom :: :all | :update_all | :delete_all, query :: <a href="Ecto.Query.html#t:t/0">Ecto.Query.t</a>) ::
  {:cache, <a href="#t:prepared/0">prepared</a>} |
  {:nocache, <a href="#t:prepared/0">prepared</a>}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Commands invoked to prepare a query for <code class="inline">all</code>, <code class="inline">update_all</code> and <code class="inline">delete_all</code>.</p>
<p>The returned result is given to <code class="inline">execute/6</code>.</p>

  </section>
</div>
<div class="detail" id="c:update/6">
  
  
  <div class="detail-header">
    <a href="#c:update/6" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <span class="signature">update(repo, schema_meta, fields, filters, returning, options)</span>
    
      <a href="https://github.com/elixir-ecto/ecto/blob/v3.0.0-dev/lib/ecto/adapter.ex#L170" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>update(repo, <a href="#t:schema_meta/0">schema_meta</a>, <a href="#t:fields/0">fields</a>, <a href="#t:filters/0">filters</a>, <a href="#t:returning/0">returning</a>, options) ::
  {:ok, <a href="#t:fields/0">fields</a>} |
  {:invalid, <a href="#t:constraints/0">constraints</a>} |
  {:error, :stale} |
  no_return</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Updates a single struct with the given filters.</p>
<p>While <code class="inline">filters</code> can be any record column, it is expected that
at least the primary key (or any other key that uniquely
identifies an existing record) be given as a filter. Therefore,
in case there is no record matching the given filters,
<code class="inline">{:error, :stale}</code> is returned.</p>

  </section>
</div>

        </section>
      
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.17.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
        <button class="night-mode-toggle"><span class="sr-only">Switch theme</span></button>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-4cfb39be16.js"></script>
  <script src="assets/makedown.js"></script>
  </body>
</html>

